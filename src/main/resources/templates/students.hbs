<html>
<head>
</head>
<body>
{{> navbar}}

<div id="inner" class="container">

    <div id="forms">
        {{#if isAdminOrModer}}
            {{#student}}
                <div class="container">
                    <form class="form-inline" role="form" method="post"
                          action="/editStudent/{{#id}}{{id}}{{/id}}/patch">
                        {{> partials/addStudentForm}}
                        <button class="btn btn-secondary mb-1" type="submit">{{message "button.upd"}}</button>
                    </form>
                </div>
            {{/student}}
            {{^student}}
                <div class="container">
                    <form class="form-inline" role="form" method="post" action="studentAdd">
                        {{> partials/addStudentForm}}
                        <button class="btn btn-secondary mb-1" type="submit">{{message "button.add"}}</button>

                    </form>
                </div>
            {{/student}}
        {{/if}}
        <div class="container">
            <form class="form-inline" role="form" method="post" action="filter">
                <div class="form-group mb-1 ">
                    <input class="form-control" type="text" name="filter"
                           placeholder="{{message "placeholder.findByFname"}}">
                </div>
                <button class="btn btn-secondary" type="submit">{{message "button.find"}}</button>
            </form>
        </div>
        <div class="container">
            <form class="form-inline" role="form" method="post" action="filterLastName">
                <div class="form-group mb-1 ">
                    <input class="form-control" type="text" name="filterLastName"
                           placeholder="{{message "placeholder.findByLname"}}">
                </div>
                <button class="btn btn-secondary" type="submit">{{message "button.find"}}</button>
            </form>
        </div>
    </div>

    <div class="table-name" align="center"><h4>{{message "tname.studentList"}}</h4></div>


    <div class="table-responsive">
        <table class="table table-hover table-condensed">
            <thead>
            <tr class="active">
                <th>id</th>
                <th>{{message "table.fname"}}</th>
                <th>{{message "table.lname"}}</th>
                <th>{{message "table.groupNumber"}}</th>
                {{#if isAdminOrModer}}
                    <th>{{message "table.delete"}}</th>
                    <th>{{message "table.edit"}}</th>
                {{/if}}
            </tr>
            </thead>
            <tbody>
            {{#students}}
                <tr>
                    <td>{{id}}</td>
                    <td>{{#firstName}}{{.}}{{/firstName}}</td>
                    <td>{{#lastName}}{{.}}{{/lastName}}</td>
                    <td>{{#group.groupNumber}}{{.}}{{/group.groupNumber}}</td>
                    {{#if isAdminOrModer}}
                        <td><a href="/delete/{{id}}">{{message "table.delete"}}</a></td>
                        <td><a href="/editStudent/{{id}}">{{message "table.edit"}}</a></td>
                    {{/if}}
                </tr>
            {{/students}}
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
